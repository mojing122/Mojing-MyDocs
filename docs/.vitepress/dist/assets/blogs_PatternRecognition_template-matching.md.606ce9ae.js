import{_ as s,o as a,c as n,V as l}from"./chunks/framework.ecf4210c.js";const p="/template-matching/image-20230721184542738.png",o="/template-matching/image-20230721185103480.png",t="/template-matching/image-20230721185525890.png",e="/template-matching/image-20230721185718853.png",F="/template-matching/image-20230721185806660.png",c="/template-matching/image-20230721185820829.png",r="/template-matching/image-20230721185910894.png",D="/template-matching/image-20230721185941177.png",f=JSON.parse('{"title":"第一个模式识别算法-模板匹配算法","description":"","frontmatter":{},"headers":[],"relativePath":"blogs/PatternRecognition/template-matching.md","filePath":"blogs/PatternRecognition/template-matching.md"}'),y={name:"blogs/PatternRecognition/template-matching.md"},A=l(`<h1 id="第一个模式识别算法-模板匹配算法" tabindex="-1">第一个模式识别算法-模板匹配算法 <a class="header-anchor" href="#第一个模式识别算法-模板匹配算法" aria-label="Permalink to &quot;第一个模式识别算法-模板匹配算法&quot;">​</a></h1><h2 id="什么是模板匹配算法-template-matching" tabindex="-1">什么是模板匹配算法 Template Matching? <a class="header-anchor" href="#什么是模板匹配算法-template-matching" aria-label="Permalink to &quot;什么是模板匹配算法 Template Matching?&quot;">​</a></h2><blockquote><p>模板匹配是一种最原始、最基本的模式识别方法，研究某一特定对象物的图案位于图像的什么地方，进而识别对象物，这就是一个匹配问题。它是图像处理中最基本、最常用的匹配方法。模板匹配具有自身的局限性，主要表现在它只能进行平行移动，若原图像中的匹配目标发生旋转或大小变化，该算法无效。</p></blockquote><p>模板匹配是一种高级的计算机视觉技术，可识别图像上与预定义模板匹配的部分。它是在整个图像上移动模板并计算模板与图像上被覆盖窗口之间的相似度的过程。模板匹配是通过二维卷积实现的。在卷积中，输出像素的值通过将两个矩阵的元素相乘并对结果求和。其中一个矩阵代表图像本身，另一个矩阵是模板，为卷积核。</p><p>模板就是一副已知的小图像，而模板匹配就是在一副大图像中搜寻目标，已知该图中有要找的目标，且该目标同模板有相同的尺寸、方向和图像元素，通过一定的算法可以在图中找到目标，确定其坐标位置。</p><p>模板匹配算法在很多库中可以直接使用例如，<strong>OpenCV</strong>，<strong>scikit-learn</strong>，下面我们将会通过代码实现的角度来简单解释模板匹配的原理。</p><h2 id="代码实现" tabindex="-1">代码实现 <a class="header-anchor" href="#代码实现" aria-label="Permalink to &quot;代码实现&quot;">​</a></h2><h3 id="_1-准备一张包含待匹配模板的原始图像和一幅待匹配的目标图像。" tabindex="-1">1. 准备一张包含待匹配模板的原始图像和一幅待匹配的目标图像。 <a class="header-anchor" href="#_1-准备一张包含待匹配模板的原始图像和一幅待匹配的目标图像。" aria-label="Permalink to &quot;1. 准备一张包含待匹配模板的原始图像和一幅待匹配的目标图像。&quot;">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> cv2</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> PIL </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Image </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 加载原始图像和模板图像</span></span>
<span class="line"><span style="color:#A6ACCD;">original_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">input/origin_image.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">template_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">input/template_image.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">original_image_gray </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cvtColor</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_image</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">cv2</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">COLOR_RGB2GRAY</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">template_image_gray </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cvtColor</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template_image</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">cv2</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">COLOR_RGB2GRAY</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> matplotlib</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">pyplot</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> plt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> matplotlib </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> rcParams</span></span>
<span class="line"><span style="color:#A6ACCD;">rcParams</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">font.family</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">SimHei</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ax </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> plt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subplots</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">figsize</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">][</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">][</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">set_title</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">原图像</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">][</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">cmap</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">gray</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">][</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">][</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">set_title</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">模板图像</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">][</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">cmap</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">gray</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p><img src="`+p+`" alt="image-20230721184542738"></p><h3 id="_2-选择一种适当的相似度度量方法-如均方差、相关性、归一化互相关等-作为匹配度量指标。" tabindex="-1">2. 选择一种适当的相似度度量方法（如均方差、相关性、归一化互相关等）作为匹配度量指标。 <a class="header-anchor" href="#_2-选择一种适当的相似度度量方法-如均方差、相关性、归一化互相关等-作为匹配度量指标。" aria-label="Permalink to &quot;2. 选择一种适当的相似度度量方法（如均方差、相关性、归一化互相关等）作为匹配度量指标。&quot;">​</a></h3><p>首先尝试使用标准相关性系数匹配作为匹配度量指标。</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">method </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">TM_CCOEFF_NORMED</span></span></code></pre></div><p>这里的匹配度量指标也有其他选择： <strong>(归一化结果更可靠）</strong></p><ul><li><p>TM_SQDIFF：计算平方不同，得出的值越小，越相关</p></li><li><p>TM_CCORR：计算相关性，得出的值越大，越相关</p></li><li><p>TM_CCOEFF：计算相关系数，得出的值越大，越相关</p></li><li><p>TM_SQDIFF_NORMED：计算归一化平方不同，得出的值越接近零，越相关</p></li><li><p>TM_CCORR_NORMED：计算归一化相关性，得出的值越接近1，越相关</p></li><li><p>TM_CCOEFF_NORMED：计算归一化相关系数，得出的值越接近1，越相关</p></li></ul><h3 id="_3-定义一个滑动窗口-以模板的大小为窗口尺寸-在目标图像上滑动窗口-并计算窗口与模板的匹配度量值。" tabindex="-1">3. 定义一个滑动窗口，以模板的大小为窗口尺寸，在目标图像上滑动窗口，并计算窗口与模板的匹配度量值。 <a class="header-anchor" href="#_3-定义一个滑动窗口-以模板的大小为窗口尺寸-在目标图像上滑动窗口-并计算窗口与模板的匹配度量值。" aria-label="Permalink to &quot;3. 定义一个滑动窗口，以模板的大小为窗口尺寸，在目标图像上滑动窗口，并计算窗口与模板的匹配度量值。&quot;">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchTemplate</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> template_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> method</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ax </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> plt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subplots</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">figsize</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p><img src="`+o+`" alt="image-20230721185103480"></p><h3 id="_4-选择匹配度量值最小-最大的位置作为模板在目标图像中的匹配位置。" tabindex="-1">4. 选择匹配度量值最小/最大的位置作为模板在目标图像中的匹配位置。 <a class="header-anchor" href="#_4-选择匹配度量值最小-最大的位置作为模板在目标图像中的匹配位置。" aria-label="Permalink to &quot;4. 选择匹配度量值最小/最大的位置作为模板在目标图像中的匹配位置。&quot;">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">minVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> maxVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> minLoc</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> maxLoc</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">minMaxLoc</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maxVal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">maxVal</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maxLoc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">maxLoc</span><span style="color:#89DDFF;">)</span></span></code></pre></div><table><thead><tr><th>输出</th><th></th></tr></thead><tbody><tr><td>maxVal</td><td>0.9580235481262207</td></tr><tr><td>maxLoc</td><td>(100, 244)</td></tr></tbody></table><h3 id="_5-对匹配结果进行可视化-例如在图像上绘制矩形框标识匹配位置。" tabindex="-1">5. 对匹配结果进行可视化，例如在图像上绘制矩形框标识匹配位置。 <a class="header-anchor" href="#_5-对匹配结果进行可视化-例如在图像上绘制矩形框标识匹配位置。" aria-label="Permalink to &quot;5. 对匹配结果进行可视化，例如在图像上绘制矩形框标识匹配位置。&quot;">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">output_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">input/origin_image.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">startX</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> startY</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> maxLoc</span></span>
<span class="line"><span style="color:#A6ACCD;">endX </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> startX </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> template_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">endY </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> startY </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> template_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rectangle</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">startX</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> startY</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">endX</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> endY</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">255</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ax </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> plt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subplots</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">figsize</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">suptitle</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">最大匹配值结果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span></code></pre></div><p><img src="`+t+`" alt="image-20230721185525890"></p><h3 id="_6-重复以上步骤-可以尝试不同的模板、不同的相似度度量方法或其他参数调整来观察实验结果的变化。" tabindex="-1">6. 重复以上步骤，可以尝试不同的模板、不同的相似度度量方法或其他参数调整来观察实验结果的变化。 <a class="header-anchor" href="#_6-重复以上步骤-可以尝试不同的模板、不同的相似度度量方法或其他参数调整来观察实验结果的变化。" aria-label="Permalink to &quot;6. 重复以上步骤，可以尝试不同的模板、不同的相似度度量方法或其他参数调整来观察实验结果的变化。&quot;">​</a></h3><h4 id="_6-1-尝试不同相似度度量方法" tabindex="-1">6.1 尝试不同相似度度量方法 <a class="header-anchor" href="#_6-1-尝试不同相似度度量方法" aria-label="Permalink to &quot;6.1 尝试不同相似度度量方法&quot;">​</a></h4><p>归一化互相关匹配</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchTemplate</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> template_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">TM_CCORR_NORMED</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">minVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> maxVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> minLoc</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> maxLoc</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">minMaxLoc</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maxVal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">maxVal</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maxLoc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">maxLoc</span><span style="color:#89DDFF;">)</span></span></code></pre></div><table><thead><tr><th>输出</th><th></th></tr></thead><tbody><tr><td>maxVal</td><td>0.995827317237854</td></tr><tr><td>maxLoc</td><td>(100, 244)</td></tr></tbody></table><p><img src="`+e+`" alt="image-20230721185718853"></p><h4 id="_6-2-尝试不同相似度阈值" tabindex="-1">6.2 尝试不同相似度阈值 <a class="header-anchor" href="#_6-2-尝试不同相似度阈值" aria-label="Permalink to &quot;6.2 尝试不同相似度阈值&quot;">​</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> numpy </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> np</span></span>
<span class="line"><span style="color:#A6ACCD;">output_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">input/origin_image.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">w </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> template_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">h </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> template_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">threshold </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.9</span></span>
<span class="line"><span style="color:#A6ACCD;">loc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> np</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#82AAFF;"> threshold</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> pt </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">zip</span><span style="color:#89DDFF;">(*</span><span style="color:#82AAFF;">loc</span><span style="color:#89DDFF;">[::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]):</span></span>
<span class="line"><span style="color:#A6ACCD;">    bottom_right </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pt</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> w</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> pt</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> h</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rectangle</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> pt</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> bottom_right</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">255</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ax </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> plt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subplots</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">figsize</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">suptitle</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">匹配度&gt;0.9</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span></code></pre></div><p><img src="`+F+'" alt="image-20230721185806660"></p><p><img src="'+c+`" alt="image-20230721185820829"></p><h4 id="_6-4-尝试不同模板图像" tabindex="-1">6.4 尝试不同模板图像 <a class="header-anchor" href="#_6-4-尝试不同模板图像" aria-label="Permalink to &quot;6.4 尝试不同模板图像&quot;">​</a></h4><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">template2_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">input/template2_image.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">template2_image_gray </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cvtColor</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template2_image</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">cv2</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">COLOR_RGB2GRAY</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchTemplate</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">original_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> template2_image_gray</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">TM_CCOEFF_NORMED</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">minVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> maxVal</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> minLoc</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> maxLoc</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">minMaxLoc</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maxVal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">maxVal</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maxLoc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">maxLoc</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">output_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">input/origin_image.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">startX</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> startY</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> maxLoc</span></span>
<span class="line"><span style="color:#A6ACCD;">endX </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> startX </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> template2_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">endY </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> startY </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> template2_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rectangle</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">startX</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> startY</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">endX</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> endY</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">255</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ax </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> plt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subplots</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">figsize</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">suptitle</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">最大匹配值结果</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template2_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span></code></pre></div><p><img src="`+r+`" alt="image-20230721185910894"></p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">output_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imread</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">input/origin_image.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">threshold </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span></span>
<span class="line"><span style="color:#A6ACCD;">loc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> np</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">result </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#82AAFF;"> threshold</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">w </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> template2_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">h </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> template2_image_gray</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">shape</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> pt </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">zip</span><span style="color:#89DDFF;">(*</span><span style="color:#82AAFF;">loc</span><span style="color:#89DDFF;">[::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]):</span></span>
<span class="line"><span style="color:#A6ACCD;">    bottom_right </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pt</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> w</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> pt</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> h</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    cv2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rectangle</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> pt</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> bottom_right</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">255</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ax </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> plt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subplots</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">figsize</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">fig</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">suptitle</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">匹配度&gt;0.2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">output_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">ax</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">imshow</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">template2_image</span><span style="color:#89DDFF;">[:,:,::-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">])</span></span></code></pre></div><p><img src="`+D+'" alt="image-20230721185941177"></p>',39),C=[A];function i(m,g,h,_,d,u){return a(),n("div",null,C)}const x=s(y,[["render",i]]);export{f as __pageData,x as default};
